!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("mobx"),require("mobxReact"),require("ReactDOM"),require("moment")):"function"==typeof define&&define.amd?define("PerspectiveClient",["React","mobx","mobxReact","ReactDOM","moment"],t):"object"==typeof exports?exports.PerspectiveClient=t(require("React"),require("mobx"),require("mobxReact"),require("ReactDOM"),require("moment")):e.PerspectiveClient=t(e.React,e.mobx,e.mobxReact,e.ReactDOM,e.moment)}(window,function(e,t,n,i,o){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exitFullScreen=t.deepFreeze=t.getDeep=t.deepClone=t.convertReactCssToHyphen=t.capitalizeEveryWord=t.calcAngleDegrees=t.ErrorBoundary=t.LoadingSpinner=t.ViewStateDisplay=t.preloadIcons=t.Level=t.getQualityFor=t.getCodeName=t.GOOD=t.NOT_FOUND=t.UNCERTAIN=t.ERROR=t.BAD=t.QualityCode=t.QUALITY=t.QualifiedValue=t.Dataset=t.ColumnType=t.Column=t.PropertyType=t.ActionRegistry=t.NotLicensedReason=t.ViewStore=t.AbstractUIElementStore=t.PageStore=t.ComponentStore=t.PlatformEdition=t.NativeApplicationType=t.ClientScope=t.ClientStore=t.NotificationType=t.ConnectionStatus=t.PropertyUtil=t.TypeCode=t.PropertyTree=t.ComponentPropertyError=t.ChannelStore=t.ClientActions=t.ClientState=t.Client=t.ClientStoreProviderContext=t.ResizeDetectorRefreshRate=t.withResizeDetector=t.ReactResizeDetector=void 0,t.enumerable=t.ComponentDefaultsStore=t.tranformationsToTransformationMatrix=t.transformationsToTransformCss=t.PointsTransform=t.PointTransform=t.isIdentityMatrix=t.isIdentity=t.getTouchPosition=t.getScreenCumulativeTransformation=t.getScreenPosition=t.getMousePosition=t.SVG_Utils=t.PipeUtils=t.CoordinateUtils=t.NumberFormatType=t.NumberFormat=t.Style=t.TintFilter=t.ImageFilter=t.wordsFromCamelCase=t.secondsToHms=t.ROOT_PORTAL_DESTINATION=t.requireString=t.requireNonNull=t.requestFullScreen=t.getPathDetails=t.parseColor=t.OperatingSystem=t.onload=t.JsType=t.isStyleConfig=t.isString=t.isSimpleObject=t.isPlainObject=t.isPrimitive=t.isPrimaryMouseButton=t.isNumeric=t.isNullOrUndefined=t.isMomentDate=t.isFunction=t.isEncoded=t.isDate=t.isBoolean=t.isArray=t.getType=t.getRandomInt=t.getPortalDestination=t.getImageData=t.getFullScreenElement=void 0,t.DEFAULT_PAGE_PROP_DIMENSIONS=t.DEFAULT_VIEW_DIMENSIONS=t.DEFAULT_SIZE_2D=t.DEFAULT_TIMEZONE=t.WEB_INTERFACE=t.NodeRole=t.ActivityLevel=t.EventGroupType=t.PropertyAccess=t.PermissionsType=t.GatewayRole=t.PublicationMode=t.DockPosition=t.DocksDefinitionCornerPriority=t.subscriptionFactory=t.createSubscriptionMap=t.Theming=t.Z_INDEX=t.SynchroComponentStoreLoader=t.ComponentModalAlign=t.ComponentModalPlacement=t.ComponentModal=t.ResourceStore=t.ObservableProjectDefinition=t.ComponentRegistry=t.EventGroupActions=t.ComponentEvents=t.DomEvents=t.i18n=t.I18n=t.ComponentStoreDelegate=t.Component=t.DockModal=t.IconRenderer=t.ViewStateType=t.View=t.makeLogger=t.layoutCallbackCreator=t.ComponentPath=void 0;const i=n(1),o=n(53),a=n(8);Object.defineProperty(t,"makeLogger",{enumerable:!0,get:function(){return a.makeLogger}});var r=n(135);Object.defineProperty(t,"ReactResizeDetector",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"withResizeDetector",{enumerable:!0,get:function(){return r.withResizeDetector}}),function(e){e[e.SLOW=100]="SLOW",e[e.STANDARD=33.333333333333336]="STANDARD"}(t.ResizeDetectorRefreshRate||(t.ResizeDetectorRefreshRate={})),n(139),t.ClientStoreProviderContext=i.createContext({});var s=n(140);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return s.Client}});var c=n(38);Object.defineProperty(t,"ClientState",{enumerable:!0,get:function(){return c.ClientState}});var l=n(89);Object.defineProperty(t,"ClientActions",{enumerable:!0,get:function(){return l.ClientActions}});var d=n(106);Object.defineProperty(t,"ChannelStore",{enumerable:!0,get:function(){return d.ChannelStore}});var u=n(18);Object.defineProperty(t,"ComponentPropertyError",{enumerable:!0,get:function(){return u.ComponentPropertyError}}),Object.defineProperty(t,"PropertyTree",{enumerable:!0,get:function(){return u.PropertyTree}}),Object.defineProperty(t,"TypeCode",{enumerable:!0,get:function(){return u.TypeCode}});var p=n(105);Object.defineProperty(t,"PropertyUtil",{enumerable:!0,get:function(){return p.PropertyUtil}});var m=n(40);Object.defineProperty(t,"ConnectionStatus",{enumerable:!0,get:function(){return m.ConnectionStatus}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return m.NotificationType}});var h=n(10);Object.defineProperty(t,"ClientStore",{enumerable:!0,get:function(){return h.ClientStore}}),Object.defineProperty(t,"ClientScope",{enumerable:!0,get:function(){return h.ClientScope}}),Object.defineProperty(t,"NativeApplicationType",{enumerable:!0,get:function(){return h.NativeApplicationType}}),Object.defineProperty(t,"PlatformEdition",{enumerable:!0,get:function(){return h.PlatformEdition}});var f=n(62);Object.defineProperty(t,"ComponentStore",{enumerable:!0,get:function(){return f.ComponentStore}});var g=n(39);Object.defineProperty(t,"PageStore",{enumerable:!0,get:function(){return g.PageStore}});var M=n(93);Object.defineProperty(t,"AbstractUIElementStore",{enumerable:!0,get:function(){return M.AbstractUIElementStore}});var y=n(90);Object.defineProperty(t,"ViewStore",{enumerable:!0,get:function(){return y.ViewStore}});var b=n(127);Object.defineProperty(t,"NotLicensedReason",{enumerable:!0,get:function(){return b.NotLicensedReason}});var _=n(92);Object.defineProperty(t,"ActionRegistry",{enumerable:!0,get:function(){return _.ActionRegistry}});var v=n(58);Object.defineProperty(t,"PropertyType",{enumerable:!0,get:function(){return v.PropertyType}});var L=n(103);Object.defineProperty(t,"Column",{enumerable:!0,get:function(){return L.Column}}),Object.defineProperty(t,"ColumnType",{enumerable:!0,get:function(){return L.ColumnType}}),Object.defineProperty(t,"Dataset",{enumerable:!0,get:function(){return L.Dataset}});var A=n(104);Object.defineProperty(t,"QualifiedValue",{enumerable:!0,get:function(){return A.QualifiedValue}}),Object.defineProperty(t,"QUALITY",{enumerable:!0,get:function(){return A.QUALITY}});var w=n(53);Object.defineProperty(t,"QualityCode",{enumerable:!0,get:function(){return w.QualityCode}}),Object.defineProperty(t,"BAD",{enumerable:!0,get:function(){return w.BAD}}),Object.defineProperty(t,"ERROR",{enumerable:!0,get:function(){return w.ERROR}}),Object.defineProperty(t,"UNCERTAIN",{enumerable:!0,get:function(){return w.UNCERTAIN}}),Object.defineProperty(t,"NOT_FOUND",{enumerable:!0,get:function(){return w.NOT_FOUND}}),Object.defineProperty(t,"GOOD",{enumerable:!0,get:function(){return w.GOOD}}),Object.defineProperty(t,"getCodeName",{enumerable:!0,get:function(){return w.getCodeName}}),Object.defineProperty(t,"getQualityFor",{enumerable:!0,get:function(){return w.getQualityFor}}),Object.defineProperty(t,"Level",{enumerable:!0,get:function(){return w.Level}});var O=n(35);Object.defineProperty(t,"preloadIcons",{enumerable:!0,get:function(){return O.preloadIcons}});var T=n(248);Object.defineProperty(t,"ViewStateDisplay",{enumerable:!0,get:function(){return T.ViewStateDisplay}});var E=n(249);Object.defineProperty(t,"LoadingSpinner",{enumerable:!0,get:function(){return E.LoadingSpinner}});var N=n(122);Object.defineProperty(t,"ErrorBoundary",{enumerable:!0,get:function(){return N.ErrorBoundary}});var S=n(3);Object.defineProperty(t,"calcAngleDegrees",{enumerable:!0,get:function(){return S.calcAngleDegrees}}),Object.defineProperty(t,"capitalizeEveryWord",{enumerable:!0,get:function(){return S.capitalizeEveryWord}}),Object.defineProperty(t,"convertReactCssToHyphen",{enumerable:!0,get:function(){return S.convertReactCssToHyphen}}),Object.defineProperty(t,"deepClone",{enumerable:!0,get:function(){return S.deepClone}}),Object.defineProperty(t,"getDeep",{enumerable:!0,get:function(){return S.getDeep}}),Object.defineProperty(t,"deepFreeze",{enumerable:!0,get:function(){return S.deepFreeze}}),Object.defineProperty(t,"exitFullScreen",{enumerable:!0,get:function(){return S.exitFullScreen}}),Object.defineProperty(t,"getFullScreenElement",{enumerable:!0,get:function(){return S.getFullScreenElement}}),Object.defineProperty(t,"getImageData",{enumerable:!0,get:function(){return S.getImageData}}),Object.defineProperty(t,"getPortalDestination",{enumerable:!0,get:function(){return S.getPortalDestination}}),Object.defineProperty(t,"getRandomInt",{enumerable:!0,get:function(){return S.getRandomInt}}),Object.defineProperty(t,"getType",{enumerable:!0,get:function(){return S.getType}}),Object.defineProperty(t,"isArray",{enumerable:!0,get:function(){return S.isArray}}),Object.defineProperty(t,"isBoolean",{enumerable:!0,get:function(){return S.isBoolean}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return S.isDate}}),Object.defineProperty(t,"isEncoded",{enumerable:!0,get:function(){return S.isEncoded}}),Object.defineProperty(t,"isFunction",{enumerable:!0,get:function(){return S.isFunction}}),Object.defineProperty(t,"isMomentDate",{enumerable:!0,get:function(){return S.isMomentDate}}),Object.defineProperty(t,"isNullOrUndefined",{enumerable:!0,get:function(){return S.isNullOrUndefined}}),Object.defineProperty(t,"isNumeric",{enumerable:!0,get:function(){return S.isNumeric}}),Object.defineProperty(t,"isPrimaryMouseButton",{enumerable:!0,get:function(){return S.isPrimaryMouseButton}}),Object.defineProperty(t,"isPrimitive",{enumerable:!0,get:function(){return S.isPrimitive}}),Object.defineProperty(t,"isPlainObject",{enumerable:!0,get:function(){return S.isPlainObject}}),Object.defineProperty(t,"isSimpleObject",{enumerable:!0,get:function(){return S.isSimpleObject}}),Object.defineProperty(t,"isString",{enumerable:!0,get:function(){return S.isString}}),Object.defineProperty(t,"isStyleConfig",{enumerable:!0,get:function(){return S.isStyleConfig}}),Object.defineProperty(t,"JsType",{enumerable:!0,get:function(){return S.JsType}}),Object.defineProperty(t,"onload",{enumerable:!0,get:function(){return S.onload}}),Object.defineProperty(t,"OperatingSystem",{enumerable:!0,get:function(){return S.OperatingSystem}}),Object.defineProperty(t,"parseColor",{enumerable:!0,get:function(){return S.parseColor}}),Object.defineProperty(t,"getPathDetails",{enumerable:!0,get:function(){return S.getPathDetails}}),Object.defineProperty(t,"requestFullScreen",{enumerable:!0,get:function(){return S.requestFullScreen}}),Object.defineProperty(t,"requireNonNull",{enumerable:!0,get:function(){return S.requireNonNull}}),Object.defineProperty(t,"requireString",{enumerable:!0,get:function(){return S.requireString}}),Object.defineProperty(t,"ROOT_PORTAL_DESTINATION",{enumerable:!0,get:function(){return S.ROOT_PORTAL_DESTINATION}}),Object.defineProperty(t,"secondsToHms",{enumerable:!0,get:function(){return S.secondsToHms}}),Object.defineProperty(t,"wordsFromCamelCase",{enumerable:!0,get:function(){return S.wordsFromCamelCase}});var z=n(250);Object.defineProperty(t,"ImageFilter",{enumerable:!0,get:function(){return z.ImageFilter}}),Object.defineProperty(t,"TintFilter",{enumerable:!0,get:function(){return z.TintFilter}});var D=n(87);Object.defineProperty(t,"Style",{enumerable:!0,get:function(){return D.Style}});var C=n(251);Object.defineProperty(t,"NumberFormat",{enumerable:!0,get:function(){return C.NumberFormat}}),Object.defineProperty(t,"NumberFormatType",{enumerable:!0,get:function(){return C.NumberFormatType}});var k=n(131);Object.defineProperty(t,"CoordinateUtils",{enumerable:!0,get:function(){return k.CoordinateUtils}});var P=n(254);Object.defineProperty(t,"PipeUtils",{enumerable:!0,get:function(){return P.PipeUtils}});var R=n(255);Object.defineProperty(t,"SVG_Utils",{enumerable:!0,get:function(){return R.SVG_Utils}});var j=n(256);Object.defineProperty(t,"getMousePosition",{enumerable:!0,get:function(){return j.getMousePosition}}),Object.defineProperty(t,"getScreenPosition",{enumerable:!0,get:function(){return j.getScreenPosition}}),Object.defineProperty(t,"getScreenCumulativeTransformation",{enumerable:!0,get:function(){return j.getScreenCumulativeTransformation}}),Object.defineProperty(t,"getTouchPosition",{enumerable:!0,get:function(){return j.getTouchPosition}}),Object.defineProperty(t,"isIdentity",{enumerable:!0,get:function(){return j.isIdentity}}),Object.defineProperty(t,"isIdentityMatrix",{enumerable:!0,get:function(){return j.isIdentityMatrix}}),Object.defineProperty(t,"PointTransform",{enumerable:!0,get:function(){return j.PointTransform}}),Object.defineProperty(t,"PointsTransform",{enumerable:!0,get:function(){return j.PointsTransform}}),Object.defineProperty(t,"transformationsToTransformCss",{enumerable:!0,get:function(){return j.transformationsToTransformCss}}),Object.defineProperty(t,"tranformationsToTransformationMatrix",{enumerable:!0,get:function(){return j.tranformationsToTransformationMatrix}});var x=n(107);Object.defineProperty(t,"ComponentDefaultsStore",{enumerable:!0,get:function(){return x.ComponentDefaultsStore}});var Y=n(121);Object.defineProperty(t,"enumerable",{enumerable:!0,get:function(){return Y.enumerable}});var I=n(257);Object.defineProperty(t,"ComponentPath",{enumerable:!0,get:function(){return I.ComponentPath}});var W=n(125);Object.defineProperty(t,"layoutCallbackCreator",{enumerable:!0,get:function(){return W.layoutCallbackCreator}});var q=n(61);Object.defineProperty(t,"View",{enumerable:!0,get:function(){return q.View}}),Object.defineProperty(t,"ViewStateType",{enumerable:!0,get:function(){return q.ViewStateType}});var B=n(115);Object.defineProperty(t,"IconRenderer",{enumerable:!0,get:function(){return B.IconRenderer}});var H=n(258);Object.defineProperty(t,"DockModal",{enumerable:!0,get:function(){return H.DockModal}});var F=n(259);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return F.Component}});var X=n(260);Object.defineProperty(t,"ComponentStoreDelegate",{enumerable:!0,get:function(){return X.ComponentStoreDelegate}});var U=n(66);Object.defineProperty(t,"I18n",{enumerable:!0,get:function(){return U.I18n}}),Object.defineProperty(t,"i18n",{enumerable:!0,get:function(){return U.i18n}});var $=n(120);Object.defineProperty(t,"DomEvents",{enumerable:!0,get:function(){return $.DomEvents}});var G=n(91);Object.defineProperty(t,"ComponentEvents",{enumerable:!0,get:function(){return G.ComponentEvents}}),Object.defineProperty(t,"EventGroupActions",{enumerable:!0,get:function(){return G.EventGroupActions}});var V=n(118);Object.defineProperty(t,"ComponentRegistry",{enumerable:!0,get:function(){return V.ComponentRegistry}});var K=n(59);Object.defineProperty(t,"ObservableProjectDefinition",{enumerable:!0,get:function(){return K.ObservableProjectDefinition}}),Object.defineProperty(t,"ResourceStore",{enumerable:!0,get:function(){return K.ResourceStore}});var J=n(261);Object.defineProperty(t,"ComponentModal",{enumerable:!0,get:function(){return J.ComponentModal}}),Object.defineProperty(t,"ComponentModalPlacement",{enumerable:!0,get:function(){return J.ComponentModalPlacement}}),Object.defineProperty(t,"ComponentModalAlign",{enumerable:!0,get:function(){return J.ComponentModalAlign}});var Q=n(124);Object.defineProperty(t,"SynchroComponentStoreLoader",{enumerable:!0,get:function(){return Q.SynchroComponentStoreLoader}});var Z=n(34);Object.defineProperty(t,"Z_INDEX",{enumerable:!0,get:function(){return Z.Z_INDEX}});var ee=n(123);Object.defineProperty(t,"Theming",{enumerable:!0,get:function(){return ee.Theming}});var te=n(262);Object.defineProperty(t,"createSubscriptionMap",{enumerable:!0,get:function(){return te.createSubscriptionMap}}),Object.defineProperty(t,"subscriptionFactory",{enumerable:!0,get:function(){return te.subscriptionFactory}}),function(e){e.LeftRight="left-right",e.TopBottom="top-bottom"}(t.DocksDefinitionCornerPriority||(t.DocksDefinitionCornerPriority={})),function(e){e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(t.DockPosition||(t.DockPosition={})),function(e){e.PUBLISHED="Published",e.STAGING="Staging"}(t.PublicationMode||(t.PublicationMode={})),function(e){e.INDEPENDENT="independent",e.MASTER="master",e.BACKUP="backup"}(t.GatewayRole||(t.GatewayRole={})),function(e){e.AllOf="AllOf",e.AnyOf="AnyOf"}(t.PermissionsType||(t.PermissionsType={})),function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE",e.PROTECTED="PROTECTED",e.SYSTEM="SYSTEM"}(t.PropertyAccess||(t.PropertyAccess={})),function(e){e.COMPONENT="component",e.COMPONENT_FOCUS="component-focus",e.COMPONENT_TOOLTIP="component-tooltip",e.COMPONENT_TOOLTIP_REMOVE="component-tooltip-remove",e.DOM="dom",e.MODEL="model",e.SYSTEM="system"}(t.EventGroupType||(t.EventGroupType={})),function(e){e.UNDECIDED="Undecided",e.COLD="Cold",e.WARM="Warm",e.HOT="Hot",e.ACTIVE="Active"}(t.ActivityLevel||(t.ActivityLevel={})),function(e){e.INDEPENDENT="Independent",e.BACKUP="Backup",e.MASTER="Master",e.NONE=""}(t.NodeRole||(t.NodeRole={}));const ne=a.makeLogger("Client.index");t.WEB_INTERFACE="__webInterface",t.DEFAULT_TIMEZONE="Local",t.DEFAULT_SIZE_2D={width:0,height:0},t.DEFAULT_VIEW_DIMENSIONS=Object.assign(Object.assign({},t.DEFAULT_SIZE_2D),{scrollLeft:0,scrollTop:0}),t.DEFAULT_PAGE_PROP_DIMENSIONS={enabled:!0,viewport:Object.assign({},t.DEFAULT_SIZE_2D),screen:Object.assign({},t.DEFAULT_SIZE_2D),primaryView:Object.assign({},t.DEFAULT_VIEW_DIMENSIONS)},window.onload=function(){const e=window;e.__qualityCodes?o._initQualityCodes(e.__qualityCodes):ne.warn(()=>"Quality codes missing from page."),e.__client?ne.debug(()=>"Client was found on the window during window.onload!"):ne.warn(()=>"Client was NOT found on the window during window.onload!")}},function(t,n){t.exports=e},function(e,t,n){"use strict";var i;function o(e,t,n){if(!n||typeof n.value!==i.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!");return{configurable:i.boolTrue,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:i.boolTrue,writable:i.boolTrue}),e}}}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.typeOfFunction="function",e.boolTrue=!0}(i||(i={})),t.bind=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPathDetails=t.getDeep=t.OperatingSystem=t.ROOT_PORTAL_DESTINATION=t.secondsToHms=t.isEncoded=t.capitalizeEveryWord=t.wordsFromCamelCase=t.getPortalDestination=t.flatMap=t.hasProperties=t.isIterable=t.stopPropagation=t.existsOrDefault=t.hashCode=t.exitFullScreenPromise=t.requestFullScreenPromise=t.exitFullScreen=t.requestFullScreen=t.getFullScreenElement=t.onload=t.between=t.getType=t.isStyleConfig=t.convertReactCssToHyphen=t.isMomentDate=t.isDate=t.isArray=t.isPrimitive=t.isBoolean=t.isNumeric=t.isString=t.isFunction=t.getRandomInt=t.requireString=t.setsEqual=t.isNullOrUndefined=t.requireNonNull=t.deepClone=t.deepFreeze=t.isSimpleObject=t.isPlainObject=t.isRegularObject=t.isPrimaryMouseButton=t.getImageData=t.invoke=t.parseColor=t.calcAngleDegrees=t.JsType=void 0;const i=n(4),o=n(88);var a;!function(e){e.Null="null",e.Undefined="undefined",e.Object="object",e.Function="function",e.Array="array",e.Number="number",e.Boolean="boolean",e.String="string",e.Unknown="unknown"}(a=t.JsType||(t.JsType={}));let r=document.createElement("canvas"),s=r.getContext("2d");function c(e){return!!e&&typeof e===a.Object&&e.constructor===Object}function l(e){return null==e}function d(e){return e&&typeof e===a.Function}function u(e){return"[object String]"===Object.prototype.toString.call(e)&&(typeof e===a.String||e instanceof String)}function p(e){return!Number.isNaN(parseFloat(e))&&Number.isFinite(e)}function m(e){return typeof e===a.Boolean}function h(e){return Array.isArray(e)||i.isObservableArray(e)}function f(){return document.fullscreenElement||document.webkitFullscreenElement}function g(e,t){return e.requestFullscreen?e.requestFullscreen(t):e.mozRequestFullScreen?e.mozRequestFullScreen(t):e.webkitRequestFullscreen?e.webkitRequestFullscreen(t):e.msRequestFullscreen?e.msRequestFullscreen(t):void 0}function M(){if(null!==f()){if(document.exitFullscreen)return document.exitFullscreen();if(document.mozCancelFullScreen)return document.mozCancelFullScreen();if(document.webkitExitFullscreen)return document.webkitExitFullscreen();if(document.msExitFullscreen)return document.msExitFullscreen()}}t.calcAngleDegrees=function(e,t,n=0){let i=180*Math.atan2(t,e)/Math.PI-n%360;return i<0&&(i=360+i),i},t.parseColor=function(e){r.width=r.height=1,s.clearRect(0,0,1,1),s.fillStyle=e,s.fillRect(0,0,1,1);const t=s.getImageData(0,0,1,1).data;return{r:t[0],g:t[1],b:t[2],a:t[3]}},t.invoke=function(e){setTimeout(e,0)},t.getImageData=function(e){const t=e.naturalWidth,n=e.naturalHeight;r.width=t,r.height=n,s.drawImage(e,0,0,t,n);try{return s.getImageData(0,0,t,n)}catch(e){throw r=document.createElement("canvas"),s=r.getContext("2d"),e}},t.isPrimaryMouseButton=function(e){return 0===e.button},t.isRegularObject=function(e){return void 0!==e},t.isPlainObject=c,t.isSimpleObject=function(e){if(l(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},t.deepFreeze=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(n){!Object.prototype.hasOwnProperty.call(t,n)||null===t[n]||typeof t[n]!==a.Object&&typeof t[n]!==a.Function||Object.isFrozen(t[n])||e(t[n])}),t},t.deepClone=function e(t){if(!t||typeof t!==a.Object)return t;if(t instanceof RegExp)return t;const n=Array.isArray(t)||i.isObservableArray(t)?[]:{};return Object.keys(t).forEach(i=>{t[i]&&typeof t[i]===a.Object?n[i]=e(t[i]):n[i]=t[i]}),n},t.requireNonNull=function(e,t){if(null==e)throw new Error(t);return e},t.isNullOrUndefined=l,t.setsEqual=function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},t.requireString=function(e,t){if(typeof e===a.String||e instanceof String)return e;throw new Error(t)},t.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},t.isFunction=d,t.isString=u,t.isNumeric=p,t.isBoolean=m,t.isPrimitive=function(e){return typeof e!==a.Undefined&&Object(e)!==e},t.isArray=h,t.isDate=function(e){return e instanceof Date},t.isMomentDate=function(e){return o.isMoment(e)},t.convertReactCssToHyphen=function(e){if(e){const t=/:/g;let n=new Array;return(n=e.split(" ")).forEach(function(e,i){t.test(e)&&(n[i]=n[i].replace(/[A-Z]/g,e=>"-"+e.toLowerCase()))}),n.join(" ")}},t.isStyleConfig=function(e){if(!c(e))return!1;const{classes:t}=e;if(!l(t)){if(!h(t)&&!u(t))return!1;if(t&&h(t))for(let e=0;e<t.length;e++)if(!u(t[e]))return!1}return!0},t.getType=function(e){return l(e)?null===e?a.Null:a.Undefined:c(e)?a.Object:d(e)?a.Function:h(e)?a.Array:p(e)?a.Number:m(e)?a.Boolean:u(e)?a.String:a.Unknown},t.between=function(e,t,n){return t<e?n:n<e?e:n>t?t:n},t.onload=function(e){if(window.attachEvent)window.attachEvent("onload",e);else if(window.onload){const t=window.onload;window.onload=function(n){t(n),e(n)}}else window.onload=e},t.getFullScreenElement=f,t.requestFullScreen=g,t.exitFullScreen=M,t.requestFullScreenPromise=function(e){return new Promise((t,n)=>{const i=()=>{document.removeEventListener("fullscreenchange",i,!1),t()};document.addEventListener("fullscreenchange",i,!1),Promise.resolve(g(e)).catch(n)})},t.exitFullScreenPromise=function(){return new Promise((e,t)=>{if(null==f())return void e();const n=()=>{document.removeEventListener("fullscreenchange",n,!1),e()};document.addEventListener("fullscreenchange",n,!1),Promise.resolve(M()).catch(t)})},t.hashCode=function(e){if(u(e)){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}return console.warn("hashCode(string) called on non-string arg."),0},t.existsOrDefault=function(e,t){return typeof e!==a.Undefined||void 0===e?t:e},t.stopPropagation=function(e){e&&e.stopPropagation()},t.isIterable=function(e){return null!=e&&typeof e[Symbol.iterator]===a.Function},t.hasProperties=function(e,...t){for(const n in t){if(!e||!Object.prototype.hasOwnProperty.call(e,t[n]))return!1;e=e[t[n]]}return!0},t.flatMap=function(e,t){return e.reduce((e,n)=>[...t(n),...e],[])},t.getPortalDestination=function(e,n,i=!1){let o=null,a=!1,r=!1,s=!1;if(e){const t=document.querySelector(".designer-workspace"),i=document.querySelectorAll(".docked-view");for(let t=0;t<i.length;t++){const n=i.item(t);if(n.contains(e)){o=n,a=!0;break}}if(!a){const t=document.querySelectorAll(".popup");for(let n=0;n<t.length;n++){const i=t.item(n);if(i.contains(e)){o=i,r=!0;break}}}if(!a&&!r){const t=document.querySelectorAll(".root-modal");for(let n=0;n<t.length;n++){const i=t.item(n);if(i.contains(e)){o=i,s=!0;break}}}a||r||s||(o=t||document.querySelector(`[data-component-path="${n}.0"]`))}return o||(o=t.ROOT_PORTAL_DESTINATION),i?{rootElement:o,inDock:a,inPopup:r,inModal:s}:o},t.wordsFromCamelCase=function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1 $2").toLowerCase()},t.capitalizeEveryWord=function(e){return e.replace(/\b[a-z]/g,e=>e.toUpperCase())},t.isEncoded=function(e){return e!==decodeURI(e)},t.secondsToHms=function(e,t){const n=e=>t?t(e):e,i=n("hour"),o=n("hours"),a=n("minute"),r=n("minutes"),s=n("second"),c=n("seconds");if(0===e)return`0 ${c}`;if(e>0&&e<1)return`${e} ${c}`;e=Number(e);const l=Math.floor(e/3600),d=Math.floor(e%3600/60),u=Math.floor(e%3600%60),p=l>0?l+(1==l?` ${i} `:` ${o} `):"",m=d>0?d+(1==d?` ${a} `:` ${r}`):"",h=u>0?u+(1==u?` ${s}`:` ${c}`):"";let f="",g="";return p&&m&&(f=","),m&&h&&(g=","),p+f+m+g+h},t.ROOT_PORTAL_DESTINATION=document.body,function(e){e[e.Mac=0]="Mac",e[e.Windows=1]="Windows",e[e.Linux=2]="Linux",e[e.Unix=3]="Unix",e[e.Unknown=4]="Unknown"}(t.OperatingSystem||(t.OperatingSystem={})),function(e){e.detect=function(){return-1!==navigator.appVersion.indexOf("Win")?e.Windows:-1!==navigator.appVersion.indexOf("Mac")?e.Mac:-1!==navigator.appVersion.indexOf("X11")?e.Unix:-1!=navigator.appVersion.indexOf("Linux")?e.Linux:e.Unknown}}(t.OperatingSystem||(t.OperatingSystem={})),t.getDeep=function(e,t){return t.reduce((e,t)=>e&&e[t]?e[t]:null,e)};const y=/.*(?=\[[0-9]*]$)/,b=/[0-9]*(?=]$)/;t.getPathDetails=function(e){const t=e.match(y);if(t&&1===t.length){const n=e.match(b);return{pathToParent:t[0],index:parseInt(n[0])}}{const t=e.split("."),n=t[t.length-1];return{pathToParent:n.length===e.length?"":e.slice(0,e.length-n.length-1),name:n,index:-1}}}},function(e,n){e.exports=t},function(e,t,n){"use strict";var i=n(70),o="object"==typeof self&&self&&self.Object===Object&&self,a=i.a||o||Function("return this")();t.a=a},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var i=function(){};e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRemoteLoggingLevel=t.setConsoleLoggingLevel=t.setRootLogLevel=t.enableRemoteLogging=t.makeLogger=t.consoleAppender=t.ajaxAppender=t.getLogLevelNumber=void 0;const i=n(85),o=i.JL();function a(e){switch(e){case"all":return i.JL.getAllLevel();case"debug":return i.JL.getDebugLevel();case"error":return i.JL.getErrorLevel();case"fatal":return i.JL.getFatalLevel();case"info":return i.JL.getInfoLevel();case"off":return i.JL.getOffLevel();case"trace":return i.JL.getTraceLevel();case"warn":return i.JL.getWarnLevel();default:return 0}}if(t.getLogLevelNumber=a,t.ajaxAppender=i.JL.createAjaxAppender("ajaxAppender"),t.ajaxAppender.setOptions&&t.ajaxAppender.setOptions({level:i.JL.getWarnLevel()}),t.consoleAppender=i.JL.createConsoleAppender("consoleAppender"),t.consoleAppender.setOptions){let e=i.JL.getInfoLevel();window.sessionStorage&&"true"===window.sessionStorage.getItem("perspective-console-debug")&&(e=i.JL.getDebugLevel()),window.sessionStorage&&"true"===window.sessionStorage.getItem("perspective-console-trace")&&(e=i.JL.getTraceLevel()),t.consoleAppender.setOptions({level:e})}const r=function(){if(window._perspective_designer){const e=[t.consoleAppender];return o.setOptions({appenders:e,level:0}),e}{let e=[t.consoleAppender];return(window.__mobileInterface||window.__mobileOs)&&(e=[t.consoleAppender,t.ajaxAppender]),i.JL.setOptions({defaultAjaxUrl:"/data/perspective/logs"}),o.setOptions({appenders:e,level:0}),e}}();var s=n(85);Object.defineProperty(t,"makeLogger",{enumerable:!0,get:function(){return s.JL}}),window.__logging=Object.assign(Object.assign({_jsn:i.JL,rootLogger:i.JL()},r),{setConsoleTrace(){t.consoleAppender.setOptions&&t.consoleAppender.setOptions({level:i.JL.getTraceLevel()})},setConsoleDebug(){t.consoleAppender.setOptions&&t.consoleAppender.setOptions({level:i.JL.getDebugLevel()})},setConsoleInfo(){t.consoleAppender.setOptions&&t.consoleAppender.setOptions({level:i.JL.getInfoLevel()})},setConsoleWarn(){t.consoleAppender.setOptions&&t.consoleAppender.setOptions({level:i.JL.getWarnLevel()})}}),t.enableRemoteLogging=function(e){const n=window.__logging;if(!n)return void console.warn(`Unable to ${e?"enable":"disable"} remote logging: window.__logging is null or undefined`);const i={appenders:e?[t.consoleAppender,t.ajaxAppender]:[t.consoleAppender]};n.rootLogger.setOptions(i)},t.setRootLogLevel=function(e){const t=window.__logging;if(!t)return void console.warn(`Unable to set the root log level to ${e}: window.__logging is null or undefined`);const n={level:e?a(e):void 0};t.rootLogger.setOptions(n)},t.setConsoleLoggingLevel=function(e){if(!window.__logging)return void console.warn(`Unable to set the console log level to ${e}: window.__logging is null or undefined`);const n={level:e?a(e):void 0};t.consoleAppender.setOptions&&t.consoleAppender.setOptions(n)},t.setRemoteLoggingLevel=function(e){if(!window.__logging)return void console.warn(`Unable to set the remote log level to ${e}: window.__logging is null or undefined`);const n={level:e?a(e):void 0};t.ajaxAppender.setOptions&&t.ajaxAppender.setOptions(n)}},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientStore=t.setAutoIdpAuthAllowed=t.isAutoIdpAuthAllowed=t.clearAutoIdpAuthAllowed=t.PlatformEdition=t.ClientStoreState=t.NativeApplicationType=t.ClientScope=t.IdGen=void 0;const a=n(36),r=n(2),s=n(54),c=n(264),l=n(4),d=n(0),u=n(18),p=n(8),m=n(3),h=n(160),f=n(106),g=n(107),M=n(161),y=n(162),b=n(26),_=n(163),v=n(166),L=n(40),A=n(39),w=n(59),O=n(197),T=n(127),E=n(198),N=n(199),S=n(67),z=n(202);t.IdGen=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):(""+[1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)};const D=p.makeLogger("store.Client"),C="redundancy.status",k=1e4;var P,R;!function(e){e.Client="C",e.Designer="D"}(P=t.ClientScope||(t.ClientScope={})),function(e){e.none="none",e.ios="ios",e.android="android",e.workstation="workstation"}(R=t.NativeApplicationType||(t.NativeApplicationType={}));const j=15e3,x=window.sessionStorage;class Y{constructor(e){this.transitions=[],this.from=e}to(e,t){return this.transitions.push({name:e,from:this.from,to:t}),this}build(){return this.transitions}}var I;!function(e){e.clientState="clientState"}(I=t.ClientStoreState||(t.ClientStoreState={})),function(e){e.MAKER="maker",e.STANDARD="standard",e.EDGE="edge"}(t.PlatformEdition||(t.PlatformEdition={}));const W="perspective-auto-idp-auth-allowed";function q(){x.removeItem(W)}function B(){return!(x&&"false"===x.getItem(W))}t.clearAutoIdpAuthAllowed=q,t.isAutoIdpAuthAllowed=B,t.setAutoIdpAuthAllowed=function(e){x&&(e?x.setItem(W,"true"):x.setItem(W,"false"))};class H{constructor(e,t,n,i){this.error=null,this.simulatingLostConnection=!1,this._fullscreenTransition=!1,this.bluetooth={},this.deviceSettings={},this.subscriptionMap=d.createSubscriptionMap(Object.values(I)),this.flags={load_ahead:!0,load_priority:!0},this.sessionPropsChangeDisposer=null;const{subscribe:o,notify:a}=d.subscriptionFactory(this.subscriptionMap,"ClientStore");this.subscribe=o,this.notify=a,window.__client=this,this.projectName=e,this.tabId=this.newTabId(i),this.projectTitle=t||e,this.edition=n,this.autoIdpAuthAllowed=B(),q(),this.sessionId=void 0,this.sessionClosedMessage=void 0,this.pageClosedMessage=void 0,this.created=void 0,this.lastHelloCheck=0,this.stateReactionMap=new Map,this.initFsm(),this.fsm.subscribe(this.onFiniteStateChange,O.FiniteStateMachineState.STATE),document.title=this.projectTitle,this.history=c.createBrowserHistory({basename:this.getBasename()}),this.initInstrumentationStore(),this.initChannelStore(),this.initResourceStore(),this.initMountStore(this),this.initPageStore(),this.initDefaultsStore(),this.initAuthStore(),this.initSystemStore(),this.initNotificationStore(),this.initLocationStore(),this.initIdleStore(),this.initKeyEventStore(),this.initHandlers(),this.initLifecycle(),this.setRedundancyStatus(),l.reaction(()=>this.state,this.onStateChange),l.reaction(()=>this.page.sessionProps,this.subscribeToSessionProps,{fireImmediately:!0}),l.reaction(()=>this.page.sessionProps,e=>{e&&(this.deviceSettings=e.readObject("device.settings"),this.bluetooth=e.readObject("bluetooth"))},{fireImmediately:!0}),window.setTimeout(()=>this.onStateChange(this.state),0)}onFiniteStateChange(){this.notify(I.clientState)}get platformEdition(){return this.edition}get areActionsEligible(){return!this.auth.isRedirecting}get token(){return this._token}set token(e){this._token=e}get tabId(){return this._tabId}set tabId(e){this._tabId=e,this.tabIdUrlSafe=encodeURIComponent(e)}get autoIdpAuthAllowed(){return this._autoIdpAuthAllowed}set autoIdpAuthAllowed(e){this._autoIdpAuthAllowed=e}onStateChange(e){const t=this.stateReactionMap.get(e.state)||[];D.debug(`Firing ${t.length} reactions to the transition to state '${e.state}'`);for(let e=0;e<t.length;e++)t[e]();this.notify(I.clientState)}transition(e){D.debug(()=>`Action '${e}' fired`),this.fsm.transition(e)}fault(e,t){this.error={description:e,error:t},this.transition(d.ClientActions.ERROR)}get state(){return this.fsm.state}get redundancyStatus(){return this._redundancyStatus||void 0}get workstation(){return window.__workstationInterface?window.__workstationInterface:(D.warn("No Workstation bridge was found on the current executing parent window."),null)}getBasename(){return`/data/perspective/client/${encodeURIComponent(this.projectName)}`}newTabId(e,t=!1){let n=e||x&&x.getItem("perspective-tab-id");return n&&!t||(n=m.getRandomInt(0,1<<30).toString(16)),x&&x.setItem("perspective-tab-id",n),D.debug(`Tab id=${n}`),n}static get nativeType(){return _.IosNativeBridge.exists()?R.ios:window.__workstationInterface?R.workstation:window.__mobileInterface?R.android:R.none}initiateNative(){D.trace(()=>`Initiating mobile checks at ${(new Date).toTimeString()}`);const e=H.nativeType;D.trace(()=>`NativeType detected as ${e}`),e===R.none?(this.challengeTimeoutId&&window.clearTimeout(this.challengeTimeoutId),this.transition(d.ClientActions.CHECKED),window.__webInterface=new _.WebGwDataBridge):(e===R.ios?(window.__mobileInterface=new _.IosNativeBridge,window.__webInterface=new _.ClientBridge):e===R.workstation?(window.__workstationInterface=new N.WorkstationBridge(window.__workstationInterface),window.__webInterface=new N.WorkstationClientBridge):window.__webInterface=new _.ClientBridge,e===R.ios||e===R.android?(D.debug(()=>`native bridge has been created for '${window.__mobileOs}'`),this.beginChallenge(e,window.__mobileInterface),this.setupMobileEvents()):e===R.workstation&&(D.debug("native bridge has been created for workstation"),this.beginChallenge(R.workstation,window.__workstationInterface),this.setupWorkstationEvents()))}beginChallenge(e,t){console.assert(!!t,"Native app interface not found on window when native application was detected!"),this.requestChallenge().then(e=>{if(200==e.status)return e.data;throw new Error("Failed native verification request. "+` Error-${e.status}:${e.statusText}`)}).then(e=>{D.debug("Sending challenge to native device."),t.launchAction(JSON.stringify({context:{},config:{challenge:e.challenge,gatewayAddress:A.PageStore.gatewayAddress},type:S.NativeDataType.challengeSubmit}))}).catch(e=>{D.error(e)});const n=e=>{D.trace(()=>`firing '${e}' lifecycle event toward native device!`),t.onLifecycleEvent(e)};this.page.sessionProps?this.page.sessionProps.write("device.type",e):e!==R.workstation&&D.warn("Attempted to write native device type to session props but session props did not exist.  Session props may have invalid value."),this.registerStateReaction(d.ClientState.NEW,()=>n("new")),this.registerStateReaction(d.ClientState.INITIALIZING,()=>n("initializing")),this.registerStateReaction(d.ClientState.AUTHN,()=>n("authenticating")),this.registerStateReaction(d.ClientState.CONNECTING,()=>n("connecting")),this.registerStateReaction(d.ClientState.LOADING,()=>n("loading")),this.registerStateReaction(d.ClientState.SYNCHRONIZING,()=>n("synchronizing")),this.registerStateReaction(d.ClientState.RUNNING_CONNECTED,()=>n("running-connected")),this.registerStateReaction(d.ClientState.RUNNING_DISCONNECTED,()=>n("running-disconnected")),this.challengeTimeoutId=window.setTimeout(()=>this.transition(d.ClientActions.CHECKED),j)}requestChallenge(){return D.trace(()=>"Submitting native challenge fetch..."),a.default.get("/data/perspective/challenge")}get scope(){return P.Client}get isClient(){return this.scope===P.Client}get isDesigner(){return this.scope===P.Designer}get fullscreenInTransition(){return this._fullscreenTransition}setFullscreenTransition(){this._fullscreenTransition=!0}clearFullscreenTransition(){this._fullscreenTransition=!1}onSessionInit(e){const t=this.state.state;console.assert(t===d.ClientState.LOADING,`Expected to receive a 'session-init' message in a LOADING state, but state is currently ${t}`),D.debug(()=>`session-init message received, session payload is ${JSON.stringify(e)}`);const{created:n,sessionState:i,gateway:o}=e;if(void 0===this.created)this.created=n;else if(this.created!==n)return void this.transition(d.ClientActions.INVALID_PAGE_BIRTHDATE);if(o){const e=this.system.gateway;e.name=o.name,e.gatewayTime=o.gatewayTime,e.timezone=o.timezone,e.redundantRole=o.role}i&&i.views&&(this.sessionState=i),Promise.all([this.defaultsStore.requestDefaults(),this.resources.requestProject()]).then(()=>this.transition(d.ClientActions.LOADED)).catch(e=>{D.error(`Problem loading resources: ${e}`),e instanceof Error?this.fault("Error loading resources",e):this.fault(`Error loading resources: ${e}`)});const a=this.resources.project;e.pendingUpdate&&a&&"Notify"===a.props.updateMode&&this.resources.onProjectUpdateReady(e.pendingUpdate)}onClientStart(e){const t=this.state.state;console.assert(t===d.ClientState.SYNCHRONIZING,`Expected to receive a 'client-start' message in a SYNCHRONIZING state, but state is currently ${t}`),this.created===e.created?(this.page.initSessionProps(e.sessionProps,e.sessionCustom,e.pageProps),this.transition(d.ClientActions.SYNCHRONIZED)):this.transition(d.ClientActions.INVALID_PAGE_BIRTHDATE)}onKeepAlive(e){const t=e.ts;a.default.get(`/data/perspective/keepalive/${this.projectName}/${this.tabIdUrlSafe}/${t}`)}updateTitle(e,t){document.title=e,t||this.page.pageProps&&this.page.pageProps.write("title",e)}onWorkstationAction(e){window.__workstationInterface?window.__workstationInterface.launchAction(JSON.stringify(e)):D.warn("Must be running in workstation for this action!")}onDeviceAction(e){const t=window.__mobileInterface?window.__mobileInterface:window.__workstationInterface;t&&t.launchAction(JSON.stringify(e))}onScriptNavigate(e){if(this.scope===P.Client)if(null!=e.relativeNavigationIndex){const t=window.__workstationNavigationCurrentEntryIndex;window.setTimeout(()=>{null!=t?t+e.relativeNavigationIndex>0&&this.history.go(e.relativeNavigationIndex):this.history.go(e.relativeNavigationIndex)},100)}else e.page?e.newTab?this.handleOpenPageInNewTab(e.page):this.history.push(e.page):e.view?this.mounts.navigateTo(e.view,e.params):e.url&&(e.newTab?window.open(e.url):window.location.href=e.url)}handleOpenPageInNewTab(e){const t=window.location.origin+this.getBasename();"/"===e?window.open(t+"/"):(e.startsWith("/")&&(e=e.substring(1)),window.open(t+"/"+e))}onScriptPopup(e){if("open"===e.type)this.mounts.activatePopup(e);else if("close"===e.type)this.mounts.closePopup(e.id);else if("toggle"===e.type){const{activePopups:t}=this.mounts;let n=t.find(t=>t.id===e.id);n||void 0!==e.id||(n=t.find(e=>e.id===(t.length-1).toString())),n?this.mounts.closePopup(e.id):this.mounts.activatePopup(e)}else D.warn(()=>"Unknown Popup action type "+e.type+" requested!")}onScriptDock(e){const t=this.mounts.findDockByViewId(e.id);t&&("open"===e.type?t.expandWithConfig(e):"close"===e.type&&t.expanded&&null!=t.activeView&&t.activeView.id===e.id?t.collapseDock():"toggle"===e.type&&(t.expanded&&null!=t.activeView&&t.activeView.id===e.id?t.collapseDock():t.expandWithConfig(e)),t.mountStore.updateDockOffset(t.position))}onScriptTheme(e){this.resources.requestTheme(e.name)}onScriptLogin(e){this.scope===P.Client?this.auth.login(e):D.info("Login action has no effect in the Designer.")}onScriptLogout(e){this.scope===P.Client?this.auth.logout(e):D.info("Logout action has no effect in the Designer.")}onScriptDebug(e){console.log("DEBUG ACTION TRIGGERED");const t={projectName:this.projectName,connectionStatus:this.connection.status,state:this.state.state,currentTime:(new Date).toTimeString(),lastHelloCheck:new Date(this.lastHelloCheck).toTimeString(),created:this.created&&new Date(this.created).toTimeString()};console.log(`About to post the following to the route: ${t}`),a.default.post("/data/perspective/print-to-log",t).then(e=>console.log("Debug Action Posted to route successfully"),e=>console.error(`Debug Action Failed to post to route: ${e}`)).catch(e=>console.error(`Debug Action Failed to post to route: ${e}`))}onScriptRefresh(e){this.scope===P.Client?window.location.reload():D.info("system.perspective.refresh() not allowed in the Designer")}onScriptAlterLogging(e){void 0!==e.remoteLoggingEnabled&&p.enableRemoteLogging(e.remoteLoggingEnabled),void 0!==e.logLevel&&p.setConsoleLoggingLevel(e.logLevel),void 0!==e.remoteLogLevel?p.setRemoteLoggingLevel(e.remoteLogLevel):void 0!==e.logLevel&&p.setRemoteLoggingLevel(e.logLevel);const t=e.logLevel?p.getLogLevelNumber(e.logLevel):0,n=e.remoteLogLevel?p.getLogLevelNumber(e.remoteLogLevel):0;t<n&&void 0!==e.logLevel?p.setRootLogLevel(e.logLevel):n<t&&void 0!==e.remoteLogLevel?p.setRootLogLevel(e.remoteLogLevel):n===t&&void 0!==e.logLevel?p.setRootLogLevel(e.logLevel):p.setRootLogLevel("info")}setRedundancyStatus(){const e=window.localStorage.getItem(C);if(e)try{this._redundancyStatus=JSON.parse(e)}catch(e){D.debug(()=>e)}}onRedundancyChange(e){D.trace(()=>`Redundancy Change Event received: ${JSON.stringify(e)}`),window.localStorage.setItem(C,JSON.stringify(e)),this._redundancyStatus=e}setupMobileEvents(){const e=window.__mobileInterface;e&&(this.subscribeToSessionProps(),l.autorun(()=>this.onRunningOrConnected(e,this.sendBluetoothEvents)),l.autorun(()=>this.onRunningOrConnected(e,this.sendDeviceSettings)))}setupWorkstationEvents(){const e=window.__workstationInterface;e&&l.autorun(()=>this.onRunningOrConnected(e,this.sendDeviceSettings))}onRunningOrConnected(e,t){const n=this.state.state,i=this.page.sessionProps;!i||n!==d.ClientState.RUNNING_CONNECTED&&n!==d.ClientState.RUNNING_DISCONNECTED||t(e,i)}sendBluetoothEvents(e){const t=this.bluetooth.options;null!=t.filter&&e.launchAction(JSON.stringify({type:b.MobileDataType.bluetooth,config:Object.assign(Object.assign({},t),{enable:d.PropertyUtil.getBooleanOrDefault(this.bluetooth.enabled,!1)})}))}sendDeviceSettings(e){e.launchAction(JSON.stringify({type:S.NativeDataType.settings,config:Object.assign({},this.deviceSettings)}))}onSessionPropsChange(e){const t=e.readObject("device.settings"),n=e.readObject("bluetooth");s.default(t,l.toJS(this.deviceSettings))||(this.deviceSettings=t),s.default(n,l.toJS(this.bluetooth))||(this.bluetooth=n)}subscribeToSessionProps(){this.page.sessionProps&&!this.sessionPropsChangeDisposer?this.sessionPropsChangeDisposer=this.page.sessionProps.subscribe(this.onSessionPropsChange):!this.page.sessionProps&&this.sessionPropsChangeDisposer&&(this.sessionPropsChangeDisposer(),this.sessionPropsChangeDisposer=null)}initHandlers(){this.connection.handlers.set("session-init",this.onSessionInit),this.connection.handlers.set("client-start",this.onClientStart),this.connection.handlers.set("keepalive",this.onKeepAlive),this.connection.handlers.set("redundancy-state-change",this.onRedundancyChange),this.initScriptHandlers()}initScriptHandlers(){this.connection.handlers.set("script-workstation-action",this.onWorkstationAction),this.connection.handlers.set("script-device-action",this.onDeviceAction),this.connection.handlers.set("script-navigate",this.onScriptNavigate),this.connection.handlers.set("script-popup",this.onScriptPopup),this.connection.handlers.set("script-dock",this.onScriptDock),this.connection.handlers.set("script-theme",this.onScriptTheme),this.connection.handlers.set("script-login",this.onScriptLogin),this.connection.handlers.set("script-logout",this.onScriptLogout),this.connection.handlers.set("script-debug",this.onScriptDebug),this.connection.handlers.set("script-refresh",this.onScriptRefresh),this.connection.handlers.set("script-alterLogging",this.onScriptAlterLogging),this.connection.handlers.set("remote-console-print",console.log)}reload(){window.location.reload(!0)}fireSessionInit(){const e=this.state.state;console.assert(e===d.ClientState.LOADING,`Expected to fire a 'session-init' message in a LOADING state, but state is currently ${e}`);try{this.connection.send("session-init",{projectName:this.projectName,scope:this.scope})}catch(e){this.fault("Error sending session initialization message.",e)}}synchronize(){const e=this.state.state;console.assert(e===d.ClientState.SYNCHRONIZING,`Expected to synchronize in a SYNCHRONIZING state, but state is currently ${e}`),this.sessionState&&this.sessionState.views&&this.page.initFromExistingState(this.sessionState.views),this.fireClientStart()}resynchronize(){const e=this.state.state;console.assert(e===d.ClientState.RESYNCHRONIZING,`Expected to re-synchronize in a RESYNCHRONIZING state, but state is currently ${e}`),this.page.sendResynchronizeViews()}fireClientStart(){const e=this.state.state;console.assert(e===d.ClientState.SYNCHRONIZING,`Expected to fire a 'client-start' message in a SYNCHRONIZING state, but state is currently ${e}`);try{this.connection.send("client-start",{path:this.history.location.pathname})}catch(e){this.fault("Error sending client start message.",e)}}writeSpecial(e,t){try{this.connection.connected&&this.connection.send("write-special",{path:e,valueJson:JSON.stringify(t)})}catch(t){D.error(`Error updating ${e}`)}}registerStateReaction(e,t){const n=this.stateReactionMap.get(e)||[];this.stateReactionMap.set(e,[...n,t])}initFsm(){const e=new Y(d.ClientState.NEW).to(d.ClientActions.CHECKED,d.ClientState.INITIALIZING).build(),t=new Y(d.ClientState.INITIALIZING).to(d.ClientActions.AUTHORIZED,d.ClientState.CONNECTING).to(d.ClientActions.NOT_AUTHENTICATED,d.ClientState.AUTHN).to(d.ClientActions.NO_PROJECT,d.ClientState.NO_PROJECT).to(d.ClientActions.PROJECT_NOT_RUNNABLE,d.ClientState.PROJECT_NOT_RUNNABLE).to(d.ClientActions.NOT_LICENSED,d.ClientState.NOT_LICENSED).to(d.ClientActions.NOT_AUTHORIZED,d.ClientState.FORBIDDEN).to(d.ClientActions.INVALID_PAGE_BIRTHDATE,d.ClientState.INVALID_PAGE_BIRTHDATE).to(d.ClientActions.SESSION_CLOSED,d.ClientState.SESSION_CLOSED).to(d.ClientActions.PAGE_CLOSED,d.ClientState.PAGE_CLOSED).to(d.ClientActions.LOGGED_OUT,d.ClientState.LOGGED_OUT).to(d.ClientActions.ERROR,d.ClientState.ERROR).build(),n=new Y(d.ClientState.AUTHN).to(d.ClientActions.AUTHORIZED,d.ClientState.CONNECTING).to(d.ClientActions.NOT_AUTHENTICATED,d.ClientState.AUTHN).to(d.ClientActions.NO_PROJECT,d.ClientState.NO_PROJECT).to(d.ClientActions.PROJECT_NOT_RUNNABLE,d.ClientState.PROJECT_NOT_RUNNABLE).to(d.ClientActions.NOT_LICENSED,d.ClientState.NOT_LICENSED).to(d.ClientActions.NOT_AUTHORIZED,d.ClientState.FORBIDDEN).to(d.ClientActions.INVALID_PAGE_BIRTHDATE,d.ClientState.INVALID_PAGE_BIRTHDATE).to(d.ClientActions.SESSION_CLOSED,d.ClientState.SESSION_CLOSED).to(d.ClientActions.PAGE_CLOSED,d.ClientState.PAGE_CLOSED).to(d.ClientActions.LOGIN,d.ClientState.LOGGING_IN).to(d.ClientActions.LOGGED_OUT,d.ClientState.LOGGED_OUT).to(d.ClientActions.ERROR,d.ClientState.ERROR).build(),i=new Y(d.ClientState.CONNECTING).to(d.ClientActions.CONNECTED,d.ClientState.LOADING).to(d.ClientActions.DISCONNECTED,d.ClientState.INITIALIZING).to(d.ClientActions.ERROR,d.ClientState.ERROR).build(),o=new Y(d.ClientState.LOADING).to(d.ClientActions.LOADED,d.ClientState.SYNCHRONIZING).to(d.ClientActions.DISCONNECTED,d.ClientState.INITIALIZING).to(d.ClientActions.INVALID_PAGE_BIRTHDATE,d.ClientState.INVALID_PAGE_BIRTHDATE).to(d.ClientActions.ERROR,d.ClientState.ERROR).build(),a=new Y(d.ClientState.SYNCHRONIZING).to(d.ClientActions.SYNCHRONIZED,d.ClientState.RUNNING_CONNECTED).to(d.ClientActions.DISCONNECTED,d.ClientState.INITIALIZING).to(d.ClientActions.INVALID_PAGE_BIRTHDATE,d.ClientState.INVALID_PAGE_BIRTHDATE).to(d.ClientActions.ERROR,d.ClientState.ERROR).build(),r=new Y(d.ClientState.RUNNING_CONNECTED).to(d.ClientActions.DISCONNECTED,d.ClientState.RUNNING_DISCONNECTED).to(d.ClientActions.PROJECT_UPDATED,d.ClientState.LOADING).to(d.ClientActions.LOGIN,d.ClientState.LOGGING_IN).to(d.ClientActions.LOGOUT,d.ClientState.LOGGING_OUT).to(d.ClientActions.ERROR,d.ClientState.ERROR).build(),s=new Y(d.ClientState.RUNNING_DISCONNECTED).to(d.ClientActions.AUTHORIZED,d.ClientState.RECONNECTING).to(d.ClientActions.NOT_AUTHENTICATED,d.ClientState.AUTHN).to(d.ClientActions.NO_PROJECT,d.ClientState.NO_PROJECT).to(d.ClientActions.PROJECT_NOT_RUNNABLE,d.ClientState.PROJECT_NOT_RUNNABLE).to(d.ClientActions.NOT_LICENSED,d.ClientState.NOT_LICENSED).to(d.ClientActions.NOT_AUTHORIZED,d.ClientState.FORBIDDEN).to(d.ClientActions.INVALID_PAGE_BIRTHDATE,d.ClientState.INVALID_PAGE_BIRTHDATE).to(d.ClientActions.SESSION_CLOSED,d.ClientState.SESSION_CLOSED).to(d.ClientActions.PAGE_CLOSED,d.ClientState.PAGE_CLOSED).to(d.ClientActions.LOGIN,d.ClientState.LOGGING_IN).to(d.ClientActions.LOGOUT,d.ClientState.LOGGING_OUT).to(d.ClientActions.LOGGED_OUT,d.ClientState.LOGGED_OUT).to(d.ClientActions.ERROR,d.ClientState.ERROR).build(),c=new Y(d.ClientState.RECONNECTING).to(d.ClientActions.CONNECTED,d.ClientState.RESYNCHRONIZING).to(d.ClientActions.DISCONNECTED,d.ClientState.RUNNING_DISCONNECTED).to(d.ClientActions.LOGIN,d.ClientState.LOGGING_IN).to(d.ClientActions.LOGOUT,d.ClientState.LOGGING_OUT).to(d.ClientActions.ERROR,d.ClientState.ERROR).build(),l=new Y(d.ClientState.RESYNCHRONIZING).to(d.ClientActions.SYNCHRONIZED,d.ClientState.RUNNING_CONNECTED).to(d.ClientActions.DISCONNECTED,d.ClientState.RUNNING_DISCONNECTED).to(d.ClientActions.LOGIN,d.ClientState.LOGGING_IN).to(d.ClientActions.LOGOUT,d.ClientState.LOGGING_OUT).to(d.ClientActions.ERROR,d.ClientState.ERROR).build(),u=new Y(d.ClientState.FORBIDDEN).to(d.ClientActions.LOGOUT,d.ClientState.LOGGING_OUT).build();this.fsm=new O.FiniteStateMachine(d.ClientState.NEW,[...e,...t,...n,...i,...o,...a,...r,...s,...c,...l,...u],D)}onNotAuthenticated(){this.autoIdpAuthAllowed&&!0===this.autoIdpAuth&&this.auth.isIdpSet&&!document.hidden?this.auth.login():this.scheduleNextHelloCheck()}initLifecycle(){const e=this.state.state;console.assert(e===d.ClientState.NEW,`Expected to initialize the client lifecycle in a NEW state, but state is currently ${e}`),this.registerStateReaction(d.ClientState.NEW,this.initiateNative),this.registerStateReaction(d.ClientState.INITIALIZING,this.scheduleNextHelloCheck),this.registerStateReaction(d.ClientState.INVALID_PAGE_BIRTHDATE,this.reload),this.registerStateReaction(d.ClientState.AUTHN,this.onNotAuthenticated),this.registerStateReaction(d.ClientState.CONNECTING,this.connection.connect),this.registerStateReaction(d.ClientState.RECONNECTING,this.connection.connect),this.registerStateReaction(d.ClientState.LOADING,this.fireSessionInit),this.registerStateReaction(d.ClientState.SYNCHRONIZING,this.synchronize),this.registerStateReaction(d.ClientState.RESYNCHRONIZING,this.resynchronize),this.registerStateReaction(d.ClientState.RUNNING_DISCONNECTED,this.scheduleNextHelloCheck),this.registerStateReaction(d.ClientState.LOGGING_IN,this.auth.doLogin),this.registerStateReaction(d.ClientState.LOGGING_OUT,this.auth.doLogout)}submitChallenge(e){this.deviceConnectData=e,this.challengeTimeoutId&&window.clearTimeout(this.challengeTimeoutId),this.state.state===d.ClientState.NEW&&this.transition(d.ClientActions.CHECKED)}scheduleNextHelloCheck(){const e=this.timeUntilNextHelloCheck();D.debug(`Scheduling next hello check in ${e} ms`),window.setTimeout(this.fireHello,e)}fireHello(){if(this.lastHelloCheck=(new Date).getTime(),this.simulatingLostConnection){D.info("Connection loss simulation active - simulated rejected /hello request");const e={response:{status:0,statusText:"simulated disconnect"}};return void this.onHelloRejected(e)}if(this.auth.isRedirecting)return D.info(()=>"Skipping hello request while redirecting to the IdP"),void this.scheduleNextHelloCheck();D.debug("Firing hello check now");const e=this.deviceConnectData||this.browserData(),t={client_timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,device_id:e.deviceId,device_type:e.type,version_code:e.versionCode};this.sessionId&&(t["perspective-session-id"]=this.sessionId);const n={timeout:1e4,headers:t};let i="";i=e.challenge.length>0?`/data/perspective/hello/${this.projectName}/${this.tabIdUrlSafe}`+`/${e.challenge}`:`/data/perspective/hello/${this.projectName}/${this.tabIdUrlSafe}`,a.default.get(i,n).then(this.onHelloFulfilled,this.onHelloRejected)}browserData(){return{challenge:"",deviceId:this.getDeviceId(),type:"browser",versionCode:0}}getDeviceId(){let e=window.localStorage.getItem(H.DEVICE_ID_KEY);return null!=e?(D.trace(`Found device id of '${e}' in localStorage... returning`),e):this.scope!==P.Client?(D.trace("Not a client scope, skip setting device id."),""):(e=t.IdGen(),D.debug(`Created new device id of '${e}', adding to localStorage...`),window.localStorage.setItem(H.DEVICE_ID_KEY,e),e)}elapsedTimeSinceLastHelloCheck(){return(new Date).getTime()-this.lastHelloCheck}timeUntilNextHelloCheck(){return m.between(0,k,k-this.elapsedTimeSinceLastHelloCheck())}onHelloFulfilled(e){var t;const n=e.data;D.debug(`Got hello response ${JSON.stringify(n)}`),null===(t=this.idle)||void 0===t||t.resetPendingIdleTimeoutAction(),this.autoIdpAuth=n.autoIdpAuth,this.auth.authChange(n.webAuthStatus),this.auth.webAuthStatus.authenticated&&(this.autoIdpAuthAllowed=!0,q()),this.system.updateLicenseState(n.license),n.newTabId&&(this.tabId=this.newTabId(void 0,!0)),n.sessionId&&(this.sessionId=n.sessionId),this.token=n.token,n.sessionClosedMessage?(this.sessionClosedMessage=n.sessionClosedMessage,this.transition(d.ClientActions.SESSION_CLOSED)):n.pageClosedMessage?(this.pageClosedMessage=n.pageClosedMessage,this.transition(d.ClientActions.PAGE_CLOSED)):n.loggedOutMessage?(this.loggedOutMessage=n.loggedOutMessage,this.transition(d.ClientActions.LOGGED_OUT)):n.redundancy.activity_level!==d.ActivityLevel.ACTIVE?this.maybeRedirectToPeer():void 0!==this.created&&this.created!==n.created?this.transition(d.ClientActions.INVALID_PAGE_BIRTHDATE):n.license.permitted?this.isClient&&!n.runnable?this.transition(d.ClientActions.PROJECT_NOT_RUNNABLE):this.auth.webAuthStatus.authorized?this.transition(d.ClientActions.AUTHORIZED):!this.auth.webAuthStatus.authenticated&&this.auth.webAuthStatus.authenticationRequired?this.transition(d.ClientActions.NOT_AUTHENTICATED):this.transition(d.ClientActions.NOT_AUTHORIZED):this.transition(d.ClientActions.NOT_LICENSED)}onHelloRejected(e){var t;D.error(()=>`Hello API call failed: '${e}'`);const n=e.response;n?404===n.status?this.transition(d.ClientActions.NO_PROJECT):(null===(t=this.idle)||void 0===t?void 0:t.maybeTriggerIdleTimeoutAction())||this.scheduleNextHelloCheck():this.maybeRedirectToPeer()}static filterPeer(e){return e.address!==window.location.hostname||"https:"===window.location.protocol&&window.location.port!==e.https_port.toString()||"http:"===window.location.protocol&&window.location.port!==e.http_port.toString()}static peerToUrl(e){const t=window.location.protocol,n="https:"===t?e.https_port:e.http_port;return new URL(`${t}//${e.address}:${n}/data/perspective/redundancy/status`)}static peerUrlToPromise(e){return new Promise((t,n)=>{a.default.get(e.href,{timeout:1e4}).then(i=>{if(i.data){if(i.data.activity_level===d.ActivityLevel.ACTIVE)return void t(e)}n()}).catch(n)})}static redirectToPeerUrl(e){let t=e.protocol+"//"+e.hostname;""!=e.port&&(t+=":"+e.port);const n=new URL(window.location.href),i=n.pathname+n.search,o=new URL(i,t);window.location.assign(o.href)}static oneSuccess(e){return Promise.all(e.map(e=>e.then(e=>Promise.reject(e),e=>Promise.resolve(e)))).then(e=>Promise.reject(e),e=>Promise.resolve(e))}maybeRedirectToPeer(){const e=this.redundancyStatus;e?H.oneSuccess(e.peers.filter(H.filterPeer).map(H.peerToUrl).map(H.peerUrlToPromise)).then(H.redirectToPeerUrl).catch(this.scheduleNextHelloCheck):this.scheduleNextHelloCheck()}getPeer(){if(this.redundancyStatus&&this.redundancyStatus.peers.length){const e=this.redundancyStatus.peers.filter(H.filterPeer);if(e.length)return e[0]}}simulateLostConnection(e){this.simulatingLostConnection=!0,this.connection.disconnect(),setTimeout(()=>this.simulatingLostConnection=!1,1e3*e)}initChannelStore(){this.connection=new f.ChannelStore(this)}initResourceStore(){this.resources=new w.ResourceStore(this)}initPageStore(){this.page=new A.PageStore(this)}initMountStore(e){this.mounts=new v.MountStore(e)}initDefaultsStore(){this.defaultsStore=new g.ComponentDefaultsStore(this)}initAuthStore(){this.auth=new h.AuthStore(this)}initSystemStore(){this.system=new T.SystemStore(this)}initNotificationStore(){this.notifications=new L.NotificationStore(this)}initLocationStore(){this.location=new M.GeoLocationStore(this)}initInstrumentationStore(){this.instrumentation=new y.InstrumentationStore}initIdleStore(){this.idle=new E.ClientIdleStore(this)}initKeyEventStore(){this.keyEvent=new z.KeyEventStore(this)}}H.DEVICE_ID_KEY="perspsective.session.identifier",i([l.observable.ref,o("design:type",Object)],H.prototype,"error",void 0),i([l.observable,o("design:type",Object)],H.prototype,"_redundancyStatus",void 0),i([l.observable,o("design:type",Boolean)],H.prototype,"_fullscreenTransition",void 0),i([l.observable,o("design:type",Object)],H.prototype,"bluetooth",void 0),i([l.observable,o("design:type",Object)],H.prototype,"deviceSettings",void 0),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"onFiniteStateChange",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onStateChange",null),i([l.action.bound,o("design:type",Function),o("design:paramtypes",[String]),o("design:returntype",void 0)],H.prototype,"transition",null),i([l.action.bound,o("design:type",Function),o("design:paramtypes",[String,Error]),o("design:returntype",void 0)],H.prototype,"fault",null),i([l.computed,o("design:type",Object),o("design:paramtypes",[])],H.prototype,"state",null),i([l.computed,o("design:type",Object),o("design:paramtypes",[])],H.prototype,"redundancyStatus",null),i([l.computed,o("design:type",Object),o("design:paramtypes",[])],H.prototype,"workstation",null),i([r.default,o("design:type",Function),o("design:paramtypes",[String,Boolean]),o("design:returntype",String)],H.prototype,"newTabId",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initiateNative",null),i([l.computed,o("design:type",Boolean),o("design:paramtypes",[])],H.prototype,"fullscreenInTransition",null),i([l.action.bound,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"setFullscreenTransition",null),i([l.action.bound,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"clearFullscreenTransition",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onSessionInit",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onClientStart",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onKeepAlive",null),i([r.default,o("design:type",Function),o("design:paramtypes",[String,Boolean]),o("design:returntype",void 0)],H.prototype,"updateTitle",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onWorkstationAction",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onDeviceAction",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onScriptNavigate",null),i([r.default,o("design:type",Function),o("design:paramtypes",[String]),o("design:returntype",void 0)],H.prototype,"handleOpenPageInNewTab",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onScriptPopup",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onScriptDock",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onScriptTheme",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onScriptLogin",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onScriptLogout",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onScriptDebug",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onScriptRefresh",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onScriptAlterLogging",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"setRedundancyStatus",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onRedundancyChange",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"setupMobileEvents",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"setupWorkstationEvents",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object,Function]),o("design:returntype",void 0)],H.prototype,"onRunningOrConnected",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"sendBluetoothEvents",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"sendDeviceSettings",null),i([l.action.bound,o("design:type",Function),o("design:paramtypes",[u.PropertyTree]),o("design:returntype",void 0)],H.prototype,"onSessionPropsChange",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"subscribeToSessionProps",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initHandlers",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initScriptHandlers",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"reload",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"fireSessionInit",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"synchronize",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"resynchronize",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"fireClientStart",null),i([r.default,o("design:type",Function),o("design:paramtypes",[String,Function]),o("design:returntype",void 0)],H.prototype,"registerStateReaction",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initFsm",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"onNotAuthenticated",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initLifecycle",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"submitChallenge",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"scheduleNextHelloCheck",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"fireHello",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],H.prototype,"browserData",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Number)],H.prototype,"elapsedTimeSinceLastHelloCheck",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Number)],H.prototype,"timeUntilNextHelloCheck",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onHelloFulfilled",null),i([r.default,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],H.prototype,"onHelloRejected",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"maybeRedirectToPeer",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],H.prototype,"getPeer",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initChannelStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initResourceStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initPageStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initDefaultsStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initAuthStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initSystemStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initNotificationStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initLocationStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initInstrumentationStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initIdleStore",null),i([r.default,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],H.prototype,"initKeyEventStore",null),t.ClientStore=H},function(e,t,n){var i;
